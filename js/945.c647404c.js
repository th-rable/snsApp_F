"use strict";(self["webpackChunkfirstapp"]=self["webpackChunkfirstapp"]||[]).push([[945],{2945:function(e,n,t){t.r(n),t.d(n,{default:function(){return c}});var o=t(641),r=t(33),i=t(3751);function s(e,n,t,s,a,l){const u=(0,o.g2)("Navbar");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(u),n[4]||(n[4]=(0,o.Lk)("h1",null,"Team수능 로그인하기",-1)),(0,o.Lk)("div",null,[(0,o.Lk)("p",null,(0,r.v_)(a.name)+"님, 안녕하세요",1),(0,o.bo)((0,o.Lk)("input",{type:"password","onUpdate:modelValue":n[0]||(n[0]=e=>a.pw=e),placeholder:"비밀번호",onKeyup:n[1]||(n[1]=(0,i.jR)((e=>l.login()),["enter"]))},null,544),[[i.Jo,a.pw]]),n[3]||(n[3]=(0,o.Lk)("br",null,null,-1)),(0,o.Lk)("button",{onClick:n[2]||(n[2]=e=>l.login())},"✔")])],64)}var a=t(4364),l={name:"LoginComponents",data(){return{id:this.$route.query.id,pw:"",name:""}},components:{Navbar:a.A},created(){this.$checklogin().then((()=>{window.location.href="/home"})).catch((()=>{}));const e={id:this.id};fetch(this.$requestURL+"api/auth/getname/",{method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((e=>{if(!e.ok)throw new Error("서버 오류 발생");return e.json()})).then((e=>{null!=e.result?this.name=e.result:window.location.href="/"})).catch((e=>{alert(e.message)}))},methods:{login(){const e={id:this.id,psword:this.pw};fetch(this.$requestURL+"api/auth/login/",{method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((e=>{if(!e.ok)throw new Error("로그인을 실패했어요");return e.json()})).then((n=>{console.log(n),this.$cookies.set("id",e.id),this.$cookies.set("key",n.key),window.location.href="/home"})).catch((e=>{alert(e.message)}))}}},u=t(6262);const h=(0,u.A)(l,[["render",s]]);var c=h},4364:function(e,n,t){t.d(n,{A:function(){return u}});var o=t(641);const r={class:"menu"};function i(e,n,t,i,s,a){const l=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",r,[(0,o.bF)(l,{to:"/"},{default:(0,o.k6)((()=>n[0]||(n[0]=[(0,o.eW)("Team수능")]))),_:1})])}var s={name:"NavbarComponent"},a=t(6262);const l=(0,a.A)(s,[["render",i]]);var u=l}}]);
//# sourceMappingURL=945.c647404c.js.map