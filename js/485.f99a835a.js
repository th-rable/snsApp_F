"use strict";(self["webpackChunkfirstapp"]=self["webpackChunkfirstapp"]||[]).push([[485],{4485:function(n,e,t){t.r(e),t.d(e,{default:function(){return h}});var o=t(641),r=t(33),i=t(3751);function a(n,e,t,a,s,l){const u=(0,o.g2)("Navbar");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(u),e[4]||(e[4]=(0,o.Lk)("h1",null,"Team수능 로그인하기",-1)),(0,o.Lk)("div",null,[(0,o.Lk)("p",null,(0,r.v_)(s.name)+"님, 안녕하세요",1),(0,o.bo)((0,o.Lk)("input",{type:"password","onUpdate:modelValue":e[0]||(e[0]=n=>s.pw=n),placeholder:"비밀번호",onKeyup:e[1]||(e[1]=(0,i.jR)((n=>l.login()),["enter"]))},null,544),[[i.Jo,s.pw]]),e[3]||(e[3]=(0,o.Lk)("br",null,null,-1)),(0,o.Lk)("button",{onClick:e[2]||(e[2]=n=>l.login())},"✔")])],64)}var s=t(4364),l={name:"LoginComponents",data(){return{id:this.$route.query.id,pw:"",name:""}},components:{Navbar:s.A},created(){this.$checklogin().then((()=>{window.location.href="/home"})).catch((()=>{}));const n={id:this.id};fetch("api/auth/getname/",{method:"post",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).then((n=>{if(!n.ok)throw new Error("서버 오류 발생");return n.json()})).then((n=>{null!=n.result?this.name=n.result:window.location.href="/"})).catch((n=>{alert(n.message)}))},methods:{login(){const n={id:this.id,psword:this.pw};fetch("api/auth/login/",{method:"post",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).then((n=>{if(!n.ok)throw new Error("로그인을 실패했어요");return n.json()})).then((e=>{console.log(e),this.$cookies.set("id",n.id),this.$cookies.set("key",e.key),window.location.href="/home"})).catch((n=>{alert(n.message)}))}}},u=t(6262);const c=(0,u.A)(l,[["render",a]]);var h=c},4364:function(n,e,t){t.d(e,{A:function(){return u}});var o=t(641);const r={class:"menu"};function i(n,e,t,i,a,s){const l=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",r,[(0,o.bF)(l,{to:"/"},{default:(0,o.k6)((()=>e[0]||(e[0]=[(0,o.eW)("Team수능")]))),_:1})])}var a={name:"NavbarComponent"},s=t(6262);const l=(0,s.A)(a,[["render",i]]);var u=l}}]);
//# sourceMappingURL=485.f99a835a.js.map